(this["webpackJsonpshopping-cart-react-redux"]=this["webpackJsonpshopping-cart-react-redux"]||[]).push([[0],{36:function(t,e,c){},37:function(t,e,c){},38:function(t,e,c){},39:function(t,e,c){},41:function(t,e,c){},42:function(t,e,c){},46:function(t,e,c){},47:function(t,e,c){},53:function(t,e,c){"use strict";c.r(e);var a=c(1),r=c.n(a),n=c(18),s=c.n(n),i=(c(36),c(16)),o=(c(37),c(6)),u=(c(38),c(39),c(2));var j=function(t){var e=t.card;return Object(u.jsxs)("li",{className:"item",children:[Object(u.jsx)("img",{className:"item__image",src:e.image,alt:e.name}),Object(u.jsx)("h2",{className:"item__title",children:e.name}),Object(u.jsxs)("p",{className:"item__price",children:["Price ",e.price," \u20bd"]}),Object(u.jsx)("button",{className:"item__button",children:"\u041a\u0443\u043f\u0438\u0442\u044c"})]})};var d=function(t){var e=t.cards;return Object(u.jsx)("main",{className:"content",children:Object(u.jsx)("section",{className:"goods",children:Object(u.jsx)("ul",{className:"goods__container",children:e.map((function(t){return Object(u.jsx)(j,{card:t},Math.random())}))})})})},l=(c(41),c(42),c(13));var b=function(){var t=Object(l.c)((function(t){return t.cart.products})).reduce((function(t,e){return t+e.quantity*e.price}),0);return Object(u.jsxs)("section",{children:[Object(u.jsxs)("p",{className:"cartlist-footer ".concat(t?"cartlist-footer_visible":""),children:["Total price is ",t," \u20bd"]}),Object(u.jsx)("p",{className:"cartlist-footer ".concat(t?"":"cartlist-footer_visible"),children:"Cart is Empty"})]})};c(46);var p=function(t){var e=t.item;return Object(u.jsxs)("li",{className:"cart-item",children:[Object(u.jsx)("img",{className:"cart-item__image",src:e.image,alt:e.name}),Object(u.jsx)("h2",{className:"cart-item__title",children:e.name}),Object(u.jsxs)("p",{className:"cart-item__price",children:[e.price," \u20bd"]}),Object(u.jsx)("button",{className:"cart-item__btn-count",children:"-"}),Object(u.jsx)("p",{className:"cart-item__quantity",children:e.quantity}),Object(u.jsx)("button",{className:"cart-item__btn-count",children:"+"}),Object(u.jsx)("button",{className:"cart-item__btn-delete",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"})]})};var O=function(t){var e=t.dispatch,c=t.item,a=t.products,r=Object(l.c)((function(t){return t.cart.products}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("ul",{className:"cart-items",children:r.map((function(t,c){return Object(u.jsx)(p,{item:t,dispatch:e},Math.random())}))}),Object(u.jsx)(b,{item:c,products:a})]})};c(47);var h=function(){var t=Object(l.c)((function(t){return t.cart.products})).reduce((function(t,e){return t+e.quantity}),0);return Object(u.jsx)("header",{className:"header",children:Object(u.jsxs)("div",{className:"header__navbar",children:[Object(u.jsx)(i.b,{to:"/",className:"link-decor",children:Object(u.jsx)("p",{className:"header__navbar-link",children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"})}),Object(u.jsx)(i.b,{to:"/cart",className:"link-decor cart-position",children:Object(u.jsx)("button",{className:"header__cart",children:Object(u.jsx)("p",{className:"header__cart-total ".concat(t>0?"header__cart-total_enabled":""),children:t})})})]})})},m="GET/REQUEST_CARDS",f="POST/FETCH_CARDS",x="CART/ADD_PRODUCT",_="CART/REMOVE_PRODUCT",v="CART/REMOVE_ITEM";var y=function(){var t=Object(l.b)(),e=Object(l.c)((function(t){return t.cards.fetchedCards}));return r.a.useEffect((function(){t({type:m})}),[t]),Object(u.jsx)("div",{className:"page",children:Object(u.jsxs)("div",{className:"page__container",children:[Object(u.jsx)(h,{}),Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/",children:Object(u.jsx)(d,{cards:e,component:d})}),Object(u.jsx)(o.a,{path:"/cart",children:Object(u.jsx)(O,{dispatch:t})})]})]})})},N=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,54)).then((function(e){var c=e.getCLS,a=e.getFID,r=e.getFCP,n=e.getLCP,s=e.getTTFB;c(t),a(t),r(t),n(t),s(t)}))},g=c(28),C=c(11),E=c(31),T=c(8),k={fetchedCards:[]},q=c(22),w={products:[]},R=Object(C.b)({cards:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f:return e.payload.forEach((function(t,e){return t.id=e+1})),Object(T.a)(Object(T.a)({},t),{},{fetchedCards:e.payload});default:return t}},cart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case x:var c=t.products.find((function(t){return t.id===e.payload.id}));return c?(c.quantity+=1,Object(T.a)(Object(T.a)({},t),{},{products:Object(q.a)(t.products)})):(e.payload.quantity=1,Object(T.a)(Object(T.a)({},t),{},{products:[e.payload].concat(Object(q.a)(t.products))}));case _:return e.payload.quantity>1?(e.payload.quantity-=1,Object(T.a)(Object(T.a)({},t),{},{products:Object(q.a)(t.products)})):Object(T.a)(Object(T.a)({},t),{},{products:t.products.filter((function(t){return t!==e.payload}))});case v:return e.payload.quantity=0,Object(T.a)(Object(T.a)({},t),{},{products:t.products.filter((function(t){return 0!==t.quantity}))});default:return t}}}),D=c(29),A=c(14),F=c.n(A),M=c(21),P=F.a.mark(I),S=F.a.mark(U);function I(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(M.c)(m,U);case 2:case"end":return t.stop()}}),P)}function U(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(M.a)(B);case 3:return t=e.sent,e.next=6,Object(M.b)({type:f,payload:t});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log({message:e.t0.message});case 11:case"end":return e.stop()}}),S,null,[[0,8]])}function B(){return J.apply(this,arguments)}function J(){return(J=Object(D.a)(F.a.mark((function t(){var e;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://run.mocky.io/v3/06479013-df37-452e-afe5-bb5ec47746f9");case 2:return e=t.sent,t.next=5,e.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var L=c(27),V=c(30),G={key:"root",storage:c.n(V).a},H=Object(L.a)(G,R),Q=Object(E.a)(),z=Object(C.d)(H,Object(C.c)(Object(C.a)(Q))),K=Object(L.b)(z);Q.run(I),s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(i.a,{children:Object(u.jsx)(l.a,{store:z,children:Object(u.jsx)(g.a,{persistor:K,children:Object(u.jsx)(y,{})})})})}),document.getElementById("root")),N()}},[[53,1,2]]]);
//# sourceMappingURL=main.db6bee0e.chunk.js.map