(this["webpackJsonpshopping-cart-react-redux"]=this["webpackJsonpshopping-cart-react-redux"]||[]).push([[0],{36:function(t,e,c){},37:function(t,e,c){},38:function(t,e,c){},39:function(t,e,c){},44:function(t,e,c){},45:function(t,e,c){},46:function(t,e,c){},47:function(t,e,c){},53:function(t,e,c){"use strict";c.r(e);var n=c(1),a=c.n(n),r=c(18),s=c.n(r),i=(c(36),c(16)),o=(c(37),c(6)),u=(c(38),c(39),c(9)),j="GET/REQUEST_CARDS",l="POST/FETCH_CARDS",d="CART/ADD_PRODUCT",b="CART/REMOVE_PRODUCT",p="CART/REMOVE_ITEM";function O(t){return{type:d,payload:t}}var h=c(2);var f=function(t){var e=t.card,c=Object(u.b)();return Object(h.jsxs)("li",{className:"item",children:[Object(h.jsx)("img",{className:"item__image",src:e.image,alt:e.name}),Object(h.jsx)("h2",{className:"item__title",children:e.name}),Object(h.jsxs)("p",{className:"item__price",children:["Price ",e.price," \u20bd"]}),Object(h.jsx)("button",{className:"item__button",onClick:function(){return c(O(e))},children:"\u041a\u0443\u043f\u0438\u0442\u044c"})]})};var m=function(t){var e=t.cards;return Object(h.jsx)("main",{className:"content",children:Object(h.jsx)("section",{className:"goods",children:Object(h.jsx)("ul",{className:"goods__container",children:e.map((function(t){return Object(h.jsx)(f,{card:t},Math.random())}))})})})};c(44),c(45);var x=function(t){var e=t.goods.reduce((function(t,e){return t+e.quantity*e.price}),0);return Object(h.jsxs)("section",{children:[Object(h.jsxs)("p",{className:"cartlist-footer ".concat(e?"cartlist-footer_visible":""),children:["Total price is ",e," \u20bd"]}),Object(h.jsx)("p",{className:"cartlist-footer ".concat(e?"":"cartlist-footer_visible"),children:"Cart is Empty"})]})};c(46);var _=function(t){var e=t.item,c=Object(u.b)();return Object(h.jsxs)("li",{className:"cart-item",children:[Object(h.jsx)("img",{className:"cart-item__image",src:e.image,alt:e.name}),Object(h.jsx)("h2",{className:"cart-item__title",children:e.name}),Object(h.jsxs)("p",{className:"cart-item__price",children:[e.price," \u20bd"]}),Object(h.jsx)("button",{className:"cart-item__btn-count",onClick:function(){return c(function(t){return{type:b,payload:t}}(e))},children:"-"}),Object(h.jsx)("p",{className:"cart-item__quantity",children:e.quantity}),Object(h.jsx)("button",{className:"cart-item__btn-count",onClick:function(){return c(O(e))},children:"+"}),Object(h.jsx)("button",{className:"cart-item__btn-delete",onClick:function(){return c(function(t){return{type:p,payload:t}}(e))},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"})]})};var v=function(){var t=Object(u.c)((function(t){return t.cart.products}));return Object(h.jsxs)("section",{children:[Object(h.jsx)("ul",{className:"cart-items",children:t.map((function(t,e){return Object(h.jsx)(_,{item:t},e)}))}),Object(h.jsx)(x,{goods:t})]})};c(47);var y=function(){var t=Object(u.c)((function(t){return t.cart.products})).reduce((function(t,e){return t+e.quantity}),0);return Object(h.jsx)("header",{className:"header",children:Object(h.jsxs)("div",{className:"header__navbar",children:[Object(h.jsx)(i.b,{to:"/",className:"link-decor",children:Object(h.jsx)("p",{className:"header__navbar-link",children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"})}),Object(h.jsx)(i.b,{to:"/cart",className:"link-decor cart-position",children:Object(h.jsx)("button",{className:"header__cart",children:Object(h.jsx)("p",{className:"header__cart-total ".concat(t>0?"header__cart-total_enabled":""),children:t})})})]})})};var g=function(){var t=Object(u.b)(),e=Object(u.c)((function(t){return t.cards.fetchedCards}));return a.a.useEffect((function(){t({type:j})}),[t]),Object(h.jsx)("div",{className:"page",children:Object(h.jsxs)("div",{className:"page__container",children:[Object(h.jsx)(y,{}),Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{exact:!0,path:"/",children:Object(h.jsx)(m,{cards:e})}),Object(h.jsx)(o.a,{path:"/cart",children:Object(h.jsx)(v,{})})]})]})})},N=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,54)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,r=e.getLCP,s=e.getTTFB;c(t),n(t),a(t),r(t),s(t)}))},C=c(28),k=c(12),E=c(31),T=c(8),q={fetchedCards:[]},w=c(22),R={products:[]},D=Object(k.b)({cards:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:return e.payload.forEach((function(t,e){return t.id=e+1})),Object(T.a)(Object(T.a)({},t),{},{fetchedCards:e.payload});default:return t}},cart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:var c=t.products.find((function(t){return t.id===e.payload.id}));return c?(c.quantity+=1,Object(T.a)(Object(T.a)({},t),{},{products:Object(w.a)(t.products)})):(e.payload.quantity=1,Object(T.a)(Object(T.a)({},t),{},{products:[e.payload].concat(Object(w.a)(t.products))}));case b:return e.payload.quantity>1?(e.payload.quantity-=1,Object(T.a)(Object(T.a)({},t),{},{products:Object(w.a)(t.products)})):Object(T.a)(Object(T.a)({},t),{},{products:t.products.filter((function(t){return t!==e.payload}))});case p:return e.payload.quantity=0,Object(T.a)(Object(T.a)({},t),{},{products:t.products.filter((function(t){return 0!==t.quantity}))});default:return t}}}),A=c(29),P=c(14),S=c.n(P),F=c(21),M=S.a.mark(U),I=S.a.mark(B);function U(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(F.c)(j,B);case 2:case"end":return t.stop()}}),M)}function B(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(F.a)(J);case 3:return t=e.sent,e.next=6,Object(F.b)({type:l,payload:t});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log({message:e.t0.message});case 11:case"end":return e.stop()}}),I,null,[[0,8]])}function J(){return L.apply(this,arguments)}function L(){return(L=Object(A.a)(S.a.mark((function t(){var e;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://run.mocky.io/v3/06479013-df37-452e-afe5-bb5ec47746f9");case 2:return e=t.sent,t.next=5,e.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var V=c(27),G=c(30),H={key:"root",storage:c.n(G).a},Q=Object(V.a)(H,D),z=Object(E.a)(),K=Object(k.d)(Q,Object(k.c)(Object(k.a)(z))),W=Object(V.b)(K);z.run(U),s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(i.a,{children:Object(h.jsx)(u.a,{store:K,children:Object(h.jsx)(C.a,{persistor:W,children:Object(h.jsx)(g,{})})})})}),document.getElementById("root")),N()}},[[53,1,2]]]);
//# sourceMappingURL=main.5982e589.chunk.js.map